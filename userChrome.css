
/* FIRST MODULE */

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/navbar_tabs_oneliner.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Make tabs and navbar appear side-by-side tabs on right */

/* Use page_action_buttons_on_hover.css to hide page-action-buttons to save more space for the address */

/*
urlbar_popup_full_width.css is VERY MUCH recommended for Firefox 71+ because of new urlbar popup
*/
:root{ --tab-block-margin: var(--proton-tab-block-margin) }
:root[uidensity="compact"]{
  --tab-block-margin: 2px !important;
  --proton-tab-block-margin: 2px !important;
}

/* Modify these to change relative widths or default height */
#navigator-toolbox{
  --uc-navigationbar-width: 40vw;
  --uc-toolbar-height: 40px;
  --uc-urlbar-min-width: 50vw; /* minimum width for opened urlbar */
}
@media (-moz-proton){
  #scrollbutton-up,#scrollbutton-down{ border-block-width: 2px !important; }
}
/* Override for other densities */
:root[uidensity="compact"] #navigator-toolbox{ --uc-toolbar-height: 34px; }
:root[uidensity="touch"] #navigator-toolbox{ --uc-toolbar-height: 44px; }

/* prevent urlbar overflow on narrow windows */
/* Dependent on how many items are in navigation toolbar ADJUST AS NEEDED */
@media screen and (max-width: 1500px){
  #urlbar-container{ min-width:unset !important }
}

#TabsToolbar{
  margin-left: var(--uc-navigationbar-width);
  --tabs-navbar-shadow-size: 0px;
}
#tabbrowser-tabs{
  --tab-min-height: calc(var(--uc-toolbar-height) - 2 * var(--tab-block-margin,0px)) !important;
}

/* This isn't useful when tabs start in the middle of the window */

.titlebar-spacer[type="pre-tabs"]{ display: none }

#navigator-toolbox > #nav-bar{
  margin-right:calc(100vw - var(--uc-navigationbar-width));
  margin-top: calc(0px - var(--uc-toolbar-height));
}

/* Window drag space  */
:root[tabsintitlebar="true"] #nav-bar{ padding-left: 24px !important }

/* Rules specific to window controls on right layout */
@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled"){
  .titlebar-buttonbox-container{ position: fixed; display: block; left: 0px; z-index: 3; }
  :root[tabsintitlebar="true"] #nav-bar{ padding-left: 96px !important; padding-right: 0px !important; }
}

/* 1px margin on touch density causes tabs to be too high */
.tab-close-button{ margin-top: 0 !important }

/* Make opened urlbar overlay the toolbar */
#urlbar[open]:focus-within{ min-width: var(--uc-urlbar-min-width,none) !important; }

/* Hide dropdown placeholder */
#urlbar-container:not(:hover) .urlbar-history-dropmarker{ margin-inline-start: -28px; }

/* Fix customization view */
#customization-panelWrapper > .panel-arrowbox > .panel-arrow{ margin-inline-end: initial !important; }



/* SECOND MODULE */

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/vertical_bookmarks_toolbar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Makes bookmarks toolbar appear vertically at the left side of the window */

@-moz-document url(chrome://browser/content/browser.xhtml){

    :root:not([inDOMFullscreen]){
      --uc-vertical-toolbar-width: 36px;
    }
  
    #PersonalToolbar{
      position: fixed;
      display: flex;
      flex-direction: column;
      left: 0;
      width: var(--uc-vertical-toolbar-width,0);
      
      /* These create a empty area to the bottom of the toolbar, which is to mask a fact that we don't know exactly how high the toolbar should be */
      height: 100vh;
      max-height: 100vh !important; 
      padding-bottom: 120px !important;
    }
  
    #personal-bookmarks{ overflow-y: auto; scrollbar-width: none;}
  
    #PersonalToolbar >  #personal-bookmarks > #PlacesToolbar > hbox{ -moz-box-orient: vertical !important; }
    #PersonalToolbar #PlacesToolbarItems{
      display: flex;
      flex-direction: column;
    }
    #PersonalToolbar .toolbarbutton-1{ padding-block: 10px !important }
    #PersonalToolbar #PlacesToolbarItems > .bookmark-item{ padding-block: 4px !important; }
    
  
    body > #browser,
    body > #browser-bottombox,
    #customization-container{
      margin-left: var(--uc-vertical-toolbar-width,0);
    }
  
  }


/* THIRD MODULE*/
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/proton_dark_light_notifications.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Makes web notifications use dark/light theme based on your selected theme, and makes them fit a bit better to rounded proton style. */

@-moz-document url("chrome://global/content/alerts/alert.xhtml") {
  
    /* Color scheme definitions
     * Intentionally let Firefox override these on Windows10
     */
    :root{
      --menu-color: #15141a;
      --menu-background-color: #f9f9fb;
      --menu-border-color: #cfcfd8;
      --menuitem-hover-background-color: #e0e0e6;
    }
    @media (-moz-toolbar-prefers-color-scheme:dark) {
      :root {
        --menu-border-color: #5b5b66;
        --menu-color: #fbfbfe;
        --menu-background-color: #2b2a33;
        --menuitem-hover-background-color: #52525e;
      }
      #alertSourceLabel { color: rgb(5,209,241) !important; }
    }
    
    /* The line below removes background "layer" from the notification on linux, Windows and macOS don't have that layer in the first place */
    :root{ background: transparent !important; }
    
    /* Make Firefox actually use the colors set above */
    #alertBox {
      color: var(--menu-color) !important;
      background-color: var(--menu-background-color) !important;
      border-color: var(--menu-border-color) !important;
      border-radius: 6px !important;
      -moz-window-shadow: cliprounded !important;
    }
    #alertSettings {
      fill: currentColor !important;
      color: inherit !important;
      border-radius: 0 !important;
      margin-inline: 0 !important;
      margin-bottom: -4px !important;
    }
    .close-icon,
    #alertSettings {
      background: transparent !important
    }
    .close-icon:hover > .toolbarbutton-icon,
    #alertSettings:is(:hover,[open]) > .button-box > .box-inherit {
      background-color: var(--menuitem-hover-background-color);
    }
    
    /* Reshape and move the buttons a bit */
    .close-icon > .toolbarbutton-icon,
    #alertSettings > .button-box > .box-inherit {
      border-radius: 4px !important;
      padding: 2px !important;
      margin: 2px 2px -2px 0 !important;
    }
    #alertSettings > .button-box > .box-inherit {
      margin: -4px 4px 3px 0 !important;
    }
    #alertSettings > .button-box > .box-inherit > .button-icon {
      padding: 1px;
    }
  }

  
/* FOURTH MODULE*/
